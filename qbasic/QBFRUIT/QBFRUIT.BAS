DECLARE SUB transput (x%, y%, image%(), TColor%)
DECLARE SUB FruitPalette ()
DEFINT A-Z
OPTION BASE 1
SCREEN 13

DIM melon(130)
dim cherry(130)

FOR i = 1 TO 130
  READ melon(i)
NEXT


FOR i = 1 TO 130
  READ cherry(i)
NEXT

CALL FruitPalette

PUT (10, 10), melon, PSET
PUT (10, 10), cherry, PSET

CALL transput(40, 10, melon(), 255)


cher:
'  QuickBASIC\QB64, Array Size= 130 Width= 16 Height= 16 Colors= 256
'  cher

DATA &H0080,&H0010,&HFFFF,&HFFFF,&H5959,&H5959,&HFFFF,&HFFFF
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&H59FF,&H5959,&HFF59,&HFFFF
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&H5959,&H5959,&H545E
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&H5EFF,&H5E54,&HFF54
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&H545E,&H5E54,&HFF54
DATA &HFFFF,&HFFFF,&HFFFF,&H4DFF,&H4D4D,&H544D,&H5EFF,&HFF54
DATA &HFFFF,&HFFFF,&HFFFF,&H574D,&H5757,&H4D4D,&H4D4D,&HFF4D
DATA &HFFFF,&HFFFF,&H4DFF,&H6757,&H5767,&H574D,&H5757,&H4D4D
DATA &HFFFF,&HFFFF,&H4DFF,&H6757,&H4D67,&H6757,&H5767,&H4D57
DATA &HFF4D,&HFFFF,&H4DFF,&H5757,&H4D57,&H6757,&H5767,&H4D57
DATA &HFF4D,&HFFFF,&H4DFF,&H574D,&H4D57,&H5757,&H5757,&H4D57
DATA &HFF4D,&HFFFF,&HFFFF,&H4D4D,&H4D4D,&H574D,&H5757,&H4D4D
DATA &HFF4D,&HFFFF,&HFFFF,&H4DFF,&H4D4D,&H4D4D,&H4D4D,&H4D4D
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&H4DFF,&H4D4D,&HFF4D
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF
DATA &HFFFF,&HFFFF

melon:
'  QuickBASIC\QB64, Array Size= 130 Width= 16 Height= 16 Colors= 256
'  melon

DATA &H0080,&H0010,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&H57FF,&H5967
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&H5757,&H6757
DATA &HFF59,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&H57FF,&H4A57,&H6757
DATA &HFF62,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&H5757,&H5757,&H6757
DATA &HFF62,&HFFFF,&HFFFF,&HFFFF,&H57FF,&H5757,&H4A4A,&H6757
DATA &HFF59,&HFFFF,&HFFFF,&HFFFF,&H5757,&H5757,&H5757,&H6757
DATA &HFF59,&HFFFF,&HFFFF,&H57FF,&H5757,&H4A57,&H5757,&H5967
DATA &HFFFF,&HFFFF,&HFFFF,&H5757,&H4A57,&H5757,&H674A,&H5959
DATA &HFFFF,&HFFFF,&H57FF,&H4A57,&H4A57,&H5757,&H5967,&HFF59
DATA &HFFFF,&HFFFF,&H67FF,&H5757,&H5757,&H6757,&H5959,&HFFFF
DATA &HFFFF,&HFFFF,&H59FF,&H6767,&H6767,&H5967,&HFF59,&HFFFF
DATA &HFFFF,&HFFFF,&HFFFF,&H6259,&H5962,&HFF59,&HFFFF,&HFFFF
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF
DATA &HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF,&HFFFF
DATA &HFFFF,&HFFFF

SUB FruitPalette
' QuickBASIC Palette Commands, 256 Colors, Format=6 Bit
PALETTE 0, 0
PALETTE 1, 32
PALETTE 2, 8192
PALETTE 3, 8224
PALETTE 4, 2097152
PALETTE 5, 2097184
PALETTE 6, 2105344
PALETTE 7, 3092271
PALETTE 8, 3094063
PALETTE 9, 3879465
PALETTE 10, 2064
PALETTE 11, 2072
PALETTE 12, 2080
PALETTE 13, 2088
PALETTE 14, 2095
PALETTE 15, 2103
PALETTE 16, 4096
PALETTE 17, 4104
PALETTE 18, 4112
PALETTE 19, 4120
PALETTE 20, 4128
PALETTE 21, 4136
PALETTE 22, 4143
PALETTE 23, 4151
PALETTE 24, 6144
PALETTE 25, 6152
PALETTE 26, 6160
PALETTE 27, 6168
PALETTE 28, 6176
PALETTE 29, 6184
PALETTE 30, 6191
PALETTE 31, 6199
PALETTE 32, 8192
PALETTE 33, 8200
PALETTE 34, 8208
PALETTE 35, 8216
PALETTE 36, 8224
PALETTE 37, 8232
PALETTE 38, 8239
PALETTE 39, 8247
PALETTE 40, 10240
PALETTE 41, 10248
PALETTE 42, 10256
PALETTE 43, 10264
PALETTE 44, 10272
PALETTE 45, 10280
PALETTE 46, 10287
PALETTE 47, 10295
PALETTE 48, 12032
PALETTE 49, 12040
PALETTE 50, 12048
PALETTE 51, 12056
PALETTE 52, 12064
PALETTE 53, 12072
PALETTE 54, 12079
PALETTE 55, 12087
PALETTE 56, 14080
PALETTE 57, 14088
PALETTE 58, 14096
PALETTE 59, 14104
PALETTE 60, 14112
PALETTE 61, 14120
PALETTE 62, 14127
PALETTE 63, 14135
PALETTE 64, 1048576
PALETTE 65, 1048584
PALETTE 66, 1048592
PALETTE 67, 1048600
PALETTE 68, 1048608
PALETTE 69, 1048616
PALETTE 70, 1048623
PALETTE 71, 1048631
PALETTE 72, 1050624
PALETTE 73, 1050632
PALETTE 74, 1050640
PALETTE 75, 1050648
PALETTE 76, 1050656
PALETTE 77, 1050664
PALETTE 78, 1050671
PALETTE 79, 1050679
PALETTE 80, 1052672
PALETTE 81, 1052680
PALETTE 82, 1052688
PALETTE 83, 1052696
PALETTE 84, 1052704
PALETTE 85, 1052712
PALETTE 86, 1052719
PALETTE 87, 1052727
PALETTE 88, 1054720
PALETTE 89, 1054728
PALETTE 90, 1054736
PALETTE 91, 1054744
PALETTE 92, 1054752
PALETTE 93, 1054760
PALETTE 94, 1054767
PALETTE 95, 1054775
PALETTE 96, 1056768
PALETTE 97, 1056776
PALETTE 98, 1056784
PALETTE 99, 1056792
PALETTE 100, 1056800
PALETTE 101, 1056808
PALETTE 102, 1056815
PALETTE 103, 1056823
PALETTE 104, 1058816
PALETTE 105, 1058824
PALETTE 106, 1058832
PALETTE 107, 1058840
PALETTE 108, 1058848
PALETTE 109, 1058856
PALETTE 110, 1058863
PALETTE 111, 1058871
PALETTE 112, 1060608
PALETTE 113, 1060616
PALETTE 114, 1060624
PALETTE 115, 1060632
PALETTE 116, 1060640
PALETTE 117, 1060648
PALETTE 118, 1060655
PALETTE 119, 1060663
PALETTE 120, 1062656
PALETTE 121, 1062664
PALETTE 122, 1062672
PALETTE 123, 1062680
PALETTE 124, 1062688
PALETTE 125, 1062696
PALETTE 126, 1062703
PALETTE 127, 1062711
PALETTE 128, 2097152
PALETTE 129, 2097160
PALETTE 130, 2097168
PALETTE 131, 2097176
PALETTE 132, 2097184
PALETTE 133, 2097192
PALETTE 134, 2097199
PALETTE 135, 2097207
PALETTE 136, 2099200
PALETTE 137, 2099208
PALETTE 138, 2099216
PALETTE 139, 2099224
PALETTE 140, 2099232
PALETTE 141, 2099240
PALETTE 142, 2099247
PALETTE 143, 2099255
PALETTE 144, 2101248
PALETTE 145, 2101256
PALETTE 146, 2101264
PALETTE 147, 2101272
PALETTE 148, 2101280
PALETTE 149, 2101288
PALETTE 150, 2101295
PALETTE 151, 2101303
PALETTE 152, 2103296
PALETTE 153, 2103304
PALETTE 154, 2103312
PALETTE 155, 2103320
PALETTE 156, 2103328
PALETTE 157, 2103336
PALETTE 158, 2103343
PALETTE 159, 2103351
PALETTE 160, 2105344
PALETTE 161, 2105352
PALETTE 162, 2105360
PALETTE 163, 2105368
PALETTE 164, 2105376
PALETTE 165, 2105384
PALETTE 166, 2105391
PALETTE 167, 2105399
PALETTE 168, 2107392
PALETTE 169, 2107400
PALETTE 170, 2107408
PALETTE 171, 2107416
PALETTE 172, 2107424
PALETTE 173, 2107432
PALETTE 174, 2107439
PALETTE 175, 2107447
PALETTE 176, 2109184
PALETTE 177, 2109192
PALETTE 178, 2109200
PALETTE 179, 2109208
PALETTE 180, 2109216
PALETTE 181, 2109224
PALETTE 182, 2109231
PALETTE 183, 2109239
PALETTE 184, 2111232
PALETTE 185, 2111240
PALETTE 186, 2111248
PALETTE 187, 2111256
PALETTE 188, 2111264
PALETTE 189, 2111272
PALETTE 190, 2111279
PALETTE 191, 2111287
PALETTE 192, 3080192
PALETTE 193, 3080200
PALETTE 194, 3080208
PALETTE 195, 3080216
PALETTE 196, 3080224
PALETTE 197, 3080232
PALETTE 198, 3080239
PALETTE 199, 3080247
PALETTE 200, 3082240
PALETTE 201, 3082248
PALETTE 202, 3082256
PALETTE 203, 3082264
PALETTE 204, 3082272
PALETTE 205, 3082280
PALETTE 206, 3082287
PALETTE 207, 3082295
PALETTE 208, 3084288
PALETTE 209, 3084296
PALETTE 210, 3084304
PALETTE 211, 3084312
PALETTE 212, 3084320
PALETTE 213, 3084328
PALETTE 214, 3084335
PALETTE 215, 3084343
PALETTE 216, 3086336
PALETTE 217, 3086344
PALETTE 218, 3086352
PALETTE 219, 3086360
PALETTE 220, 3086368
PALETTE 221, 3086376
PALETTE 222, 3086383
PALETTE 223, 3086391
PALETTE 224, 3088384
PALETTE 225, 3088392
PALETTE 226, 3088400
PALETTE 227, 3088408
PALETTE 228, 3088416
PALETTE 229, 3088424
PALETTE 230, 3088431
PALETTE 231, 3088439
PALETTE 232, 3090432
PALETTE 233, 3090440
PALETTE 234, 3090448
PALETTE 235, 3090456
PALETTE 236, 3090464
PALETTE 237, 3090472
PALETTE 238, 3090479
PALETTE 239, 3090487
PALETTE 240, 3092224
PALETTE 241, 3092232
PALETTE 242, 3092240
PALETTE 243, 3092248
PALETTE 244, 3092256
PALETTE 245, 3092264
PALETTE 246, 3882559
PALETTE 247, 2697256
PALETTE 248, 2105376
PALETTE 249, 63
PALETTE 250, 16128
PALETTE 251, 16191
PALETTE 252, 4128768
PALETTE 253, 4128831
PALETTE 254, 4144896
PALETTE 255, 4144959

END SUB

SUB transput (x, y, image(), TColor)
w = image(1) / 8  'width divide by 8 to get correct size
h = image(2)      'height is correct
c = 0
ic = 4
imgseg = VARSEG(image(1))
FOR j = y TO (y + h - 1)
  FOR i = x TO (x + w - 1)
      DEF SEG = imgseg
      pix1 = PEEK(ic)
      pix2 = PEEK(ic + 1)
      DEF SEG = &HA000  'vga hardware address
      c = c + 1
      IF c = 1 THEN
         c = c + 1
         IF pix1 <> TColor THEN POKE j * 320 + i, pix1
      ELSE
        c = 0
        ic = ic + 2
        IF pix2 <> TColor THEN POKE j * 320 + i, pix2
      END IF
  NEXT i
NEXT j
END SUB

